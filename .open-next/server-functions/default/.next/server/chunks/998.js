"use strict";exports.id=998,exports.ids=[998],exports.modules={47998:(e,t,s)=>{s.r(t),s.d(t,{createOrReadKeyless:()=>Q,hasSrcAppDir:()=>F,removeKeyless:()=>Y,safeParseClerkFile:()=>U,suggestMiddlewareLocation:()=>X});var i,n,r,l,a,o,c,d,u,h,p,f,y,m,S,k,w,g,v,b=Object.getOwnPropertyNames;let K=((e,t)=>function(){return t||(0,e[b(e)[0]])((t={exports:{}}).exports,t),t.exports})({"src/runtime/node/safe-node-apis.js"(e,t){let{existsSync:i,writeFileSync:n,readFileSync:r,appendFileSync:l,mkdirSync:a,rmSync:o}=s(73024),c=s(76760);t.exports={fs:{existsSync:i,writeFileSync:n,readFileSync:r,appendFileSync:l,mkdirSync:a,rmSync:o},path:c}}})();var j=s(19998),V=s(29855);s(80003),s(83304);var E=s(85295),M=s(49946),O=s(65557),T=class{constructor(){(0,O.VK)(this,r),(0,O.VK)(this,i,"clerk_telemetry_throttler"),(0,O.VK)(this,n,864e5)}isEventThrottled(e){var t;if(!(0,O.S7)(this,r,o))return!1;let s=Date.now(),c=(0,O.jq)(this,r,l).call(this,e),d=null==(t=(0,O.S7)(this,r,a))?void 0:t[c];if(!d){let e={...(0,O.S7)(this,r,a),[c]:s};localStorage.setItem((0,O.S7)(this,i),JSON.stringify(e))}if(d&&s-d>(0,O.S7)(this,n)){let e=(0,O.S7)(this,r,a);delete e[c],localStorage.setItem((0,O.S7)(this,i),JSON.stringify(e))}return!!d}};i=new WeakMap,n=new WeakMap,r=new WeakSet,l=function(e){let{sk:t,pk:s,payload:i,...n}=e,r={...i,...n};return JSON.stringify(Object.keys({...i,...n}).sort().map(e=>r[e]))},a=function(){let e=localStorage.getItem((0,O.S7)(this,i));return e?JSON.parse(e):{}},o=function(){if("undefined"==typeof window)return!1;let e=window.localStorage;if(!e)return!1;try{let t="test";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e.length>0&&e.removeItem((0,O.S7)(this,i)),!1}};var C={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},x=class{constructor(e){var t,s,i,n,r,l;(0,O.VK)(this,f),(0,O.VK)(this,c),(0,O.VK)(this,d),(0,O.VK)(this,u,{}),(0,O.VK)(this,h,[]),(0,O.VK)(this,p),(0,O.OV)(this,c,{maxBufferSize:null!=(t=e.maxBufferSize)?t:C.maxBufferSize,samplingRate:null!=(s=e.samplingRate)?s:C.samplingRate,disabled:null!=(i=e.disabled)&&i,debug:null!=(n=e.debug)&&n,endpoint:C.endpoint}),e.clerkVersion||"undefined"!=typeof window?(0,O.S7)(this,u).clerkVersion=null!=(r=e.clerkVersion)?r:"":(0,O.S7)(this,u).clerkVersion="",(0,O.S7)(this,u).sdk=e.sdk,(0,O.S7)(this,u).sdkVersion=e.sdkVersion,(0,O.S7)(this,u).publishableKey=null!=(l=e.publishableKey)?l:"";let a=(0,M.q5)(e.publishableKey);a&&((0,O.S7)(this,u).instanceType=a.instanceType),e.secretKey&&((0,O.S7)(this,u).secretKey=e.secretKey.substring(0,16)),(0,O.OV)(this,d,new T)}get isEnabled(){var e;return!("development"!==(0,O.S7)(this,u).instanceType||(0,O.S7)(this,c).disabled||"undefined"!=typeof process&&(0,E.zz)(process.env.CLERK_TELEMETRY_DISABLED))&&("undefined"==typeof window||null==(e=null==window?void 0:window.navigator)||!e.webdriver)}get isDebug(){return(0,O.S7)(this,c).debug||"undefined"!=typeof process&&(0,E.zz)(process.env.CLERK_TELEMETRY_DEBUG)}record(e){let t=(0,O.jq)(this,f,v).call(this,e.event,e.payload);(0,O.jq)(this,f,w).call(this,t.event,t),(0,O.jq)(this,f,y).call(this,t,e.eventSamplingRate)&&((0,O.S7)(this,h).push(t),(0,O.jq)(this,f,S).call(this))}};c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakSet,y=function(e,t){return this.isEnabled&&!this.isDebug&&(0,O.jq)(this,f,m).call(this,e,t)},m=function(e,t){let s=Math.random();return!(0,O.S7)(this,d).isEventThrottled(e)&&s<=(0,O.S7)(this,c).samplingRate&&(void 0===t||s<=t)},S=function(){if("undefined"==typeof window){(0,O.jq)(this,f,k).call(this);return}if((0,O.S7)(this,h).length>=(0,O.S7)(this,c).maxBufferSize){(0,O.S7)(this,p)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)((0,O.S7)(this,p)),(0,O.jq)(this,f,k).call(this);return}(0,O.S7)(this,p)||("requestIdleCallback"in window?(0,O.OV)(this,p,requestIdleCallback(()=>{(0,O.jq)(this,f,k).call(this)})):(0,O.OV)(this,p,setTimeout(()=>{(0,O.jq)(this,f,k).call(this)},0)))},k=function(){fetch(new URL("/v1/event",(0,O.S7)(this,c).endpoint),{method:"POST",body:JSON.stringify({events:(0,O.S7)(this,h)}),headers:{"Content-Type":"application/json"}}).catch(()=>void 0).then(()=>{(0,O.OV)(this,h,[])}).catch(()=>void 0)},w=function(e,t){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",e),console.log(t),console.groupEnd()):console.log("[clerk/telemetry]",e,t))},g=function(){let e={name:(0,O.S7)(this,u).sdk,version:(0,O.S7)(this,u).sdkVersion};return"undefined"!=typeof window&&window.Clerk&&(e={...e,...window.Clerk.constructor.sdkMetadata}),e},v=function(e,t){var s,i;let n=(0,O.jq)(this,f,g).call(this);return{event:e,cv:null!=(s=(0,O.S7)(this,u).clerkVersion)?s:"",it:null!=(i=(0,O.S7)(this,u).instanceType)?i:"",sdk:n.name,sdkv:n.version,...(0,O.S7)(this,u).publishableKey?{pk:(0,O.S7)(this,u).publishableKey}:{},...(0,O.S7)(this,u).secretKey?{sk:(0,O.S7)(this,u).secretKey}:{},payload:t}},(0,V.C)(j.nr);var R=s(77843);let q={secretKey:R.rB,publishableKey:R.At,apiUrl:R.H$,apiVersion:R.mG,userAgent:"@clerk/nextjs@6.10.3",proxyUrl:R.Rg,domain:R.V2,isSatellite:R.fS,sdkMetadata:R.tm,telemetry:{disabled:R.nN,debug:R.Mh}},D=e=>(function(e){let t={...e},s=(0,j.y3)(t),i=(0,j.Bs)({options:t,apiClient:s}),n=new x({...e.telemetry,publishableKey:t.publishableKey,secretKey:t.secretKey,...t.sdkMetadata?{sdk:t.sdkMetadata.name,sdkVersion:t.sdkMetadata.version}:{}});return{...s,...i,telemetry:n}})({...q,...e}),_=".clerk",I="clerk.lock",A=()=>{throw Error("Clerk: fsModule.fs is missing. This is an internal error. Please contact Clerk's support.")},N=()=>(K.fs||A(),K.fs),z=()=>(K.path||A(),K.path),B=(...e)=>z().join(process.cwd(),_,...e),W=".tmp",J=()=>B(W,"keyless.json"),L=()=>B(W,"README.md"),P=!1;function U(){let{readFileSync:e}=N();try{let t;let s=J();try{t=e(s,{encoding:"utf-8"})||"{}"}catch{t="{}"}return JSON.parse(t)}catch{return}}let $=()=>{let{writeFileSync:e}=N();P=!0,e(I,"This file can be deleted. Please delete this file and refresh your application",{encoding:"utf8",mode:"0777",flag:"w"})},G=()=>{let{rmSync:e}=N();try{e(I,{force:!0,recursive:!0})}catch{}P=!1},H=()=>{let{existsSync:e}=N();return P||e(I)};async function Q(){let{writeFileSync:e,mkdirSync:t}=N();if(H())return;$();let s=J(),i=L();t(B(W),{recursive:!0}),function(){let{existsSync:e,writeFileSync:t,readFileSync:s,appendFileSync:i}=N(),n=z().join(process.cwd(),".gitignore");e(n)||t(n,""),s(n,"utf-8").includes(_+"/")||i(n,`
# clerk configuration (can include secrets)
/${_}/
`)}();let n=U();if((null==n?void 0:n.publishableKey)&&(null==n?void 0:n.secretKey))return G(),n;let r=D({}),l=await r.__experimental_accountlessApplications.createAccountlessApplication();return e(s,JSON.stringify(l),{encoding:"utf8",mode:"0777",flag:"w"}),e(i,`
## DO NOT COMMIT
This directory is auto-generated from \`@clerk/nextjs\` because you are running in Keyless mode. Avoid committing the \`.clerk/\` directory as it includes the secret key of the unclaimed instance.
  `,{encoding:"utf8",mode:"0777",flag:"w"}),G(),l}function Y(){let{rmSync:e}=N();if(!H()){$();try{e(B(),{force:!0,recursive:!0})}catch{}G()}}function F(){let{existsSync:e}=N();return!!e(z().join(process.cwd(),"src","app"))}function X(){let e=(e,t)=>`Clerk: Move your middleware file to ./${e||""}middleware.ts. Currently located at ./${t||""}middleware.ts`,{existsSync:t}=N(),s=z(),i=s.join(process.cwd(),"src","app"),n=s.join(process.cwd(),"app");return t(i)?t(s.join(i,"middleware.ts"))?e("src/","src/app/"):t(s.join(process.cwd(),"middleware.ts"))?e("src/"):void 0:t(n)&&t(s.join(n,"middleware.ts"))?e(void 0,"app/"):void 0}}};