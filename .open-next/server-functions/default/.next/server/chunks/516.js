"use strict";exports.id=516,exports.ids=[516],exports.modules={42516:(e,r,t)=>{t.r(r),t.d(r,{createOrReadKeyless:()=>j,hasSrcAppDir:()=>x,removeKeyless:()=>k,safeParseClerkFile:()=>w,suggestMiddlewareLocation:()=>O});var s=Object.getOwnPropertyNames;let i=((e,r)=>function(){return r||(0,e[s(e)[0]])((r={exports:{}}).exports,r),r.exports})({"src/runtime/node/safe-node-apis.js"(e,r){let{existsSync:s,writeFileSync:i,readFileSync:n,appendFileSync:c,mkdirSync:o,rmSync:l}=t(73024),a=t(76760);r.exports={fs:{existsSync:s,writeFileSync:i,readFileSync:n,appendFileSync:c,mkdirSync:o,rmSync:l},path:a}}})();var n=t(1947);let c=".clerk",o="clerk.lock",l=()=>{throw Error("Clerk: fsModule.fs is missing. This is an internal error. Please contact Clerk's support.")},a=()=>(i.fs||l(),i.fs),d=()=>(i.path||l(),i.path),u=(...e)=>d().join(process.cwd(),c,...e),p=".tmp",f=()=>u(p,"keyless.json"),m=()=>u(p,"README.md"),y=!1;function w(){let{readFileSync:e}=a();try{let r;let t=f();try{r=e(t,{encoding:"utf-8"})||"{}"}catch{r="{}"}return JSON.parse(r)}catch{return}}let g=()=>{let{writeFileSync:e}=a();y=!0,e(o,"This file can be deleted. Please delete this file and refresh your application",{encoding:"utf8",mode:"0777",flag:"w"})},h=()=>{let{rmSync:e}=a();try{e(o,{force:!0,recursive:!0})}catch{}y=!1},v=()=>{let{existsSync:e}=a();return y||e(o)};async function j(){let{writeFileSync:e,mkdirSync:r}=a();if(v())return;g();let t=f(),s=m();r(u(p),{recursive:!0}),function(){let{existsSync:e,writeFileSync:r,readFileSync:t,appendFileSync:s}=a(),i=d().join(process.cwd(),".gitignore");e(i)||r(i,""),t(i,"utf-8").includes(c+"/")||s(i,`
# clerk configuration (can include secrets)
/${c}/
`)}();let i=w();if((null==i?void 0:i.publishableKey)&&(null==i?void 0:i.secretKey))return h(),i;let o=(0,n.n)({}),l=await o.__experimental_accountlessApplications.createAccountlessApplication();return e(t,JSON.stringify(l),{encoding:"utf8",mode:"0777",flag:"w"}),e(s,`
## DO NOT COMMIT
This directory is auto-generated from \`@clerk/nextjs\` because you are running in Keyless mode. Avoid committing the \`.clerk/\` directory as it includes the secret key of the unclaimed instance.
  `,{encoding:"utf8",mode:"0777",flag:"w"}),h(),l}function k(){let{rmSync:e}=a();if(!v()){g();try{e(u(),{force:!0,recursive:!0})}catch{}h()}}function x(){let{existsSync:e}=a();return!!e(d().join(process.cwd(),"src","app"))}function O(){let e=(e,r)=>`Clerk: Move your middleware file to ./${e||""}middleware.ts. Currently located at ./${r||""}middleware.ts`,{existsSync:r}=a(),t=d(),s=t.join(process.cwd(),"src","app"),i=t.join(process.cwd(),"app");return r(s)?r(t.join(s,"middleware.ts"))?e("src/","src/app/"):r(t.join(process.cwd(),"middleware.ts"))?e("src/"):void 0:r(i)&&r(t.join(i,"middleware.ts"))?e(void 0,"app/"):void 0}}};