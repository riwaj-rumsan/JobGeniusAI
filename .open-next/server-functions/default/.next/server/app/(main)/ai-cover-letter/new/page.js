(()=>{var e={};e.id=214,e.ids=[214],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},60483:e=>{"use strict";e.exports=require("@prisma/client/scripts/default-index.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},90255:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var s=t(70260),a=t(28203),i=t(25155),n=t.n(i),o=t(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l=["",{children:["(main)",{children:["ai-cover-letter",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,31572)),"/home/rumsan/Documents/Rumsan/JobGeniusAI/app/(main)/ai-cover-letter/new/page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,32546)),"/home/rumsan/Documents/Rumsan/JobGeniusAI/app/(main)/layout.jsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e),async e=>(await Promise.resolve().then(t.bind(t,2987))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,37928)),"/home/rumsan/Documents/Rumsan/JobGeniusAI/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,58255)),"/home/rumsan/Documents/Rumsan/JobGeniusAI/app/not-found.jsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e),async e=>(await Promise.resolve().then(t.bind(t,2987))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/rumsan/Documents/Rumsan/JobGeniusAI/app/(main)/ai-cover-letter/new/page.jsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(main)/ai-cover-letter/new/page",pathname:"/ai-cover-letter/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},45198:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"7f1e6457e0b9c3de3bfee4dcd740d4068a93daf204":()=>s.ai,"7f7be3b289140148808a2f2bb348375452fe438314":()=>s.ot,"7fcb0f3069d5611ec4359c56736324bfd0d39dca6a":()=>s.at});var s=t(50218)},19723:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"00ade993f8c188dec2c077c9c3410e8602b3b8d05d":()=>u,"408ac578a59a88734d7131ff1b127bb9bf1f50de26":()=>c,"40c1e026f44bf89c1e925db2b3953c51532d6d7b8a":()=>p,"40e455bd141cb42c6cf4d4ad9b00fda455ebd18d3a":()=>m,"7fbdda164a0ee6b8c5b652b3b1a4170c78f7d7a912":()=>s.y});var s=t(98090),a=t(21590);t(70376);var i=t(9858),n=t(4136),o=t(43623),d=t(99344);let l=new o.ij(process.env.GEMINI_API_KEY).getGenerativeModel({model:"gemini-1.5-flash"});async function c(e){let{userId:r}=await (0,n.j)();if(!r)throw Error("Unauthorized");let t=await i.db.user.findUnique({where:{clerkUserId:r}});if(!t)throw Error("User not found");let s=`
    Write a professional cover letter for a ${e.jobTitle} position at ${e.companyName}.
    
    About the candidate:
    - Industry: ${t.industry}
    - Years of Experience: ${t.experience}
    - Skills: ${t.skills?.join(", ")}
    - Professional Background: ${t.bio}
    
    Job Description:
    ${e.jobDescription}
    
    Requirements:
    1. Use a professional, enthusiastic tone
    2. Highlight relevant skills and experience
    3. Show understanding of the company's needs
    4. Keep it concise (max 400 words)
    5. Use proper business letter formatting in markdown
    6. Include specific examples of achievements
    7. Relate candidate's background to job requirements
    
    Format the letter in markdown.
  `;try{let r=(await l.generateContent(s)).response.text().trim();return await i.db.coverLetter.create({data:{content:r,jobDescription:e.jobDescription,companyName:e.companyName,jobTitle:e.jobTitle,status:"completed",userId:t.id}})}catch(e){throw console.error("Error generating cover letter:",e.message),Error("Failed to generate cover letter")}}async function u(){let{userId:e}=await (0,n.j)();if(!e)throw Error("Unauthorized");let r=await i.db.user.findUnique({where:{clerkUserId:e}});if(!r)throw Error("User not found");return await i.db.coverLetter.findMany({where:{userId:r.id},orderBy:{createdAt:"desc"}})}async function m(e){let{userId:r}=await (0,n.j)();if(!r)throw Error("Unauthorized");let t=await i.db.user.findUnique({where:{clerkUserId:r}});if(!t)throw Error("User not found");return await i.db.coverLetter.findUnique({where:{id:e,userId:t.id}})}async function p(e){let{userId:r}=await (0,n.j)();if(!r)throw Error("Unauthorized");let t=await i.db.user.findUnique({where:{clerkUserId:r}});if(!t)throw Error("User not found");return await i.db.coverLetter.delete({where:{id:e,userId:t.id}})}(0,d.D)([c,u,m,p]),(0,a.A)(c,"408ac578a59a88734d7131ff1b127bb9bf1f50de26",null),(0,a.A)(u,"00ade993f8c188dec2c077c9c3410e8602b3b8d05d",null),(0,a.A)(m,"40e455bd141cb42c6cf4d4ad9b00fda455ebd18d3a",null),(0,a.A)(p,"40c1e026f44bf89c1e925db2b3953c51532d6d7b8a",null)},25136:(e,r,t)=>{Promise.resolve().then(t.bind(t,220)),Promise.resolve().then(t.t.bind(t,59607,23))},83280:(e,r,t)=>{Promise.resolve().then(t.bind(t,85694)),Promise.resolve().then(t.t.bind(t,28531,23))},96487:()=>{},78335:()=>{},85694:(e,r,t)=>{"use strict";t.d(r,{default:()=>v});var s=t(45512);t(58009);var a=t(6868),i=t(81914),n=t(91542),o=t(26753),d=t(30771),l=t(83861),c=t(61007),u=t(3949),m=t(9317),p=t(26248);let f=(0,p.createServerReference)("408ac578a59a88734d7131ff1b127bb9bf1f50de26",p.callServer,void 0,p.findSourceMapURL,"generateCoverLetter");var b=t(72580),h=t(42698),x=t(79334);function v(){(0,x.useRouter)();let{register:e,handleSubmit:r,formState:{errors:t},reset:p}=(0,a.mN)({resolver:(0,i.u)(h.Jv)}),{loading:v,fn:g,data:y}=(0,b.A)(f),j=async e=>{try{await g(e)}catch(e){n.o.error(e.message||"Failed to generate cover letter")}};return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Job Details"}),(0,s.jsx)(l.BT,{children:"Provide information about the position you're applying for"})]}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)("form",{onSubmit:r(j),className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.J,{htmlFor:"companyName",children:"Company Name"}),(0,s.jsx)(c.p,{id:"companyName",placeholder:"Enter company name",...e("companyName")}),t.companyName&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:t.companyName.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.J,{htmlFor:"jobTitle",children:"Job Title"}),(0,s.jsx)(c.p,{id:"jobTitle",placeholder:"Enter job title",...e("jobTitle")}),t.jobTitle&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:t.jobTitle.message})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.J,{htmlFor:"jobDescription",children:"Job Description"}),(0,s.jsx)(m.T,{id:"jobDescription",placeholder:"Paste the job description here",className:"h-32",...e("jobDescription")}),t.jobDescription&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:t.jobDescription.message})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(d.$,{type:"submit",disabled:v,children:v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):"Generate Cover Letter"})})]})})]})})}},42698:(e,r,t)=>{"use strict";t.d(r,{Jv:()=>d,LU:()=>a,Nu:()=>o,Oo:()=>n});var s=t(16131);let a=s.z.object({industry:s.z.string({required_error:"Please select an industry"}),subIndustry:s.z.string({required_error:"Please select a specialization"}),bio:s.z.string().max(500).optional(),experience:s.z.string().transform(e=>parseInt(e,10)).pipe(s.z.number().min(0,"Experience must be at least 0 years").max(50,"Experience cannot exceed 50 years")),skills:s.z.string().transform(e=>e?e.split(",").map(e=>e.trim()).filter(Boolean):void 0)}),i=s.z.object({email:s.z.string().email("Invalid email address"),mobile:s.z.string().optional(),linkedin:s.z.string().optional(),twitter:s.z.string().optional()}),n=s.z.object({title:s.z.string().min(1,"Title is required"),organization:s.z.string().min(1,"Organization is required"),startDate:s.z.string().min(1,"Start date is required"),endDate:s.z.string().optional(),description:s.z.string().min(1,"Description is required"),current:s.z.boolean().default(!1)}).refine(e=>!!e.current||!!e.endDate,{message:"End date is required unless this is your current position",path:["endDate"]}),o=s.z.object({contactInfo:i,summary:s.z.string().min(1,"Professional summary is required"),skills:s.z.string().min(1,"Skills are required"),experience:s.z.array(n),education:s.z.array(n),projects:s.z.array(n)}),d=s.z.object({companyName:s.z.string().min(1,"Company name is required"),jobTitle:s.z.string().min(1,"Job title is required"),jobDescription:s.z.string().min(1,"Job description is required")})},30771:(e,r,t)=>{"use strict";t.d(r,{$:()=>l,r:()=>d});var s=t(45512),a=t(58009),i=t(12705),n=t(21643),o=t(90124);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...n},l)=>{let c=a?i.DX:"button";return(0,s.jsx)(c,{className:(0,o.cn)(d({variant:r,size:t,className:e})),ref:l,...n})});l.displayName="Button"},83861:(e,r,t)=>{"use strict";t.d(r,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>o,wL:()=>u});var s=t(45512),a=t(58009),i=t(90124);let n=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));n.displayName="Card";let o=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},61007:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var s=t(45512),a=t(58009),i=t(90124);let n=a.forwardRef(({className:e,type:r,...t},a)=>(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));n.displayName="Input"},3949:(e,r,t)=>{"use strict";t.d(r,{J:()=>l});var s=t(45512),a=t(58009),i=t(92405),n=t(21643),o=t(90124);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(i.b,{ref:t,className:(0,o.cn)(d(),e),...r}));l.displayName=i.b.displayName},9317:(e,r,t)=>{"use strict";t.d(r,{T:()=>n});var s=t(45512),a=t(58009),i=t(90124);let n=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));n.displayName="Textarea"},72580:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(58009),a=t(91542);let i=e=>{let[r,t]=(0,s.useState)(void 0),[i,n]=(0,s.useState)(null),[o,d]=(0,s.useState)(null);return{data:r,loading:i,error:o,fn:async(...r)=>{n(!0),d(null);try{let s=await e(...r);t(s),d(null)}catch(e){d(e),a.o.error(e.message)}finally{n(!1)}},setData:t}}},220:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/rumsan/Documents/Rumsan/JobGeniusAI/app/(main)/ai-cover-letter/_components/cover-letter-generator.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/rumsan/Documents/Rumsan/JobGeniusAI/app/(main)/ai-cover-letter/_components/cover-letter-generator.jsx","default")},31572:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(62740),a=t(59607),i=t.n(a),n=t(14030),o=t(56399),d=t(220);function l(){return(0,s.jsxs)("div",{className:"container mx-auto py-6",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)(i(),{href:"/ai-cover-letter",children:(0,s.jsxs)(o.$,{variant:"link",className:"gap-2 pl-0",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),"Back to Cover Letters"]})}),(0,s.jsxs)("div",{className:"pb-6",children:[(0,s.jsx)("h1",{className:"text-6xl font-bold gradient-title",children:"Create Cover Letter"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Generate a tailored cover letter for your job application"})]})]}),(0,s.jsx)(d.default,{})]})}},32546:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(62740);t(76301);let a=({children:e})=>(0,s.jsx)("div",{className:"container mx-auto mt-24 mb-20",children:e})},9858:(e,r,t)=>{"use strict";t.d(r,{db:()=>i});var s=t(96330),a=t(38065);let i=new s.PrismaClient().$extends((0,a.WU)())}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[994,187,629,226,327,802],()=>t(90255));module.exports=s})();